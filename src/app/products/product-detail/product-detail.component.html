<app-navbar></app-navbar>
<!-- breadcrumb -->
<ng-template [ngIf]="!show_spinner">
<!-- <div class="container">
    <div class="bread-crumb flex-w p-l-25 p-r-15 p-t-30 p-lr-0-lg">
        <a routerLink="/" class="stext-109 cl8 hov-cl1 trans-04">
            Home
            <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
        </a>

        <ng-template [ngIf]="row.product_category_id == 'RGkeZ9DNjDmW5roL'">
            <a routerLink="/books" class="stext-109 cl8 hov-cl1 trans-04">
                Books
                <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
            </a>
        </ng-template>
        <ng-template [ngIf]="row.product_category_id != 'RGkeZ9DNjDmW5roL'">
            <a routerLink="/toys" class="stext-109 cl8 hov-cl1 trans-04">
                Toy
                <i class="fa fa-angle-right m-l-9 m-r-10" aria-hidden="true"></i>
            </a>
        </ng-template>

        <span class="stext-109 cl4">
            {{ row.product_name }}
        </span>
    </div>
</div> -->

<!-- Product Detail -->
<section class="sec-product-detail bg0 p-t-65 p-b-60">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-7 p-b-30">
                    <div class="container">
                            <div id="main_area">
                                <!-- Slider -->
                                <div class="row">
                                    <div class="col-sm-3 overflow-class">
                                        <span *ngFor="let img_row of row.product_images; let i = index">
                                            <a class="thumbnail" id="carousel-selector-{{i}}">
                                                <img [src]="img_row.full_path | safeHtml">
                                            </a>
                                        </span>
                                            <!-- <a class="thumbnail" id="carousel-selector-1"><img src="../../../assets/images/product-detail-02.jpg"></a>
                                            <a class="thumbnail" id="carousel-selector-2"><img src="../../../assets/images/product-detail-03.jpg"></a> -->
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="col-xs-12" id="slider">
                                            <!-- Top part of the slider -->
                                            <div class="row">
                                                <div class="col-sm-12" id="carousel-bounding-box">
                                                    <div class="carousel slide" id="myCarousel">
                                                        <!-- Carousel items -->
                                                        <div class="carousel-inner">
                                                            <span *ngFor="let img_row of row.product_images; let i = index">
                                                                <div class="active item" [attr.data-slide-number]="i">
                                                                    <img [src]="img_row.full_path | safeHtml">
                                                                </div>
                                                            </span>
                        
                                                            <!-- <div class="item" data-slide-number="1">
                                                                <img src="../../../assets/images/product-detail-02.jpg"></div>
                        
                                                            <div class="item" data-slide-number="2">
                                                                <img src="../../../assets/images/product-detail-03.jpg"></div> -->
                        
                                                        </div>
                                                        <!-- Carousel nav -->
                                                        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                                                            <span class="glyphicon glyphicon-chevron-left"></span>
                                                        </a>
                                                        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                                                            <span class="glyphicon glyphicon-chevron-right"></span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/Slider-->
                                </div>
                        
                            </div>
                        </div>
            </div>

            <div class="col-md-6 col-lg-5 p-b-30">
                <div class="p-r-50 p-t-5 p-lr-0-lg">
                    <h4 class="mtext-105 cl2 js-name-detail p-b-14">
                        {{ row.product_name }}
                    </h4>

                    <span class="mtext-106 cl2">
                        &#x20b9; {{ row.product_price }} <br/> 
                        <ng-template [ngIf]="row.average_review >= 0.6 && row.average_review <= 1">
                            Rating : 1.0 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 0.1 && row.average_review <= 0.5">
                            Rating : 0.5 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 1.6 && row.average_review <= 2">
                            Rating : 2.0 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 1.1 && row.average_review <= 1.5">
                            Rating : 1.5 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 2.6 && row.average_review <= 3">
                            Rating : 3.0 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 2.1 && row.average_review <= 2.5">
                            Rating : 2.5 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 3.6 && row.average_review <= 4">
                            Rating : 4.0 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 3.1 && row.average_review <= 3.5">
                            Rating : 3.5 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 4.6 && row.average_review <= 5">
                            Rating : 5.0 
                        </ng-template>
                        <ng-template [ngIf]="row.average_review >= 4.1 && row.average_review <= 4.5">
                            Rating : 4.5 
                        </ng-template>
                        <span class="fs-18 cl11">
                            <ng-template [ngIf]="row.average_review >= 0.6 && row.average_review <= 1">
                                <i class="zmdi zmdi-star"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 0.1 && row.average_review <= 0.5">
                                <i class="zmdi zmdi-star-half"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 1.6 && row.average_review <= 2">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 1.1 && row.average_review <= 1.5">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star-half"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 2.6 && row.average_review <= 3">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 2.1 && row.average_review <= 2.5">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star-half"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 3.6 && row.average_review <= 4">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 3.1 && row.average_review <= 3.5">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star-half"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 4.6 && row.average_review <= 5">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                            </ng-template>
                            <ng-template [ngIf]="row.average_review >= 4.1 && row.average_review <= 4.5">
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star"></i>
                                <i class="zmdi zmdi-star-half"></i>
                            </ng-template>
                        </span>
                    </span>

                    <p class="stext-102 cl3 p-t-23">
                        {{ row.product_short_description }}
                    </p>

                    <!--  -->
                    <div class="p-t-33">
                        <div class="flex-w flex-r-m p-b-10">
                            <div class="size-204 flex-w flex-m respon6-next">
                                <div class="wrap-num-product flex-w m-r-20 m-tb-10">
                                    <div (click)="decreaseQuantoty()" class="btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m">
                                        <i class="fs-16 zmdi zmdi-minus"></i>
                                    </div>

                                    <input class="mtext-104 cl3 txt-center num-product" type="number" name="num-product" [value]="total_item">

                                    <div (click)="increaseQuantoty()" class="btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m">
                                        <i class="fs-16 zmdi zmdi-plus"></i>
                                    </div>
                                </div>

                                <ng-template [ngIf]="auth_tokn">
                                    <ng-template [ngIf]="can_rent">
                                        <button (click)="addToCart()" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
                                            Rent
                                        </button>
                                    </ng-template>
                                    <ng-template [ngIf]="!can_rent">
                                        <button matTooltip="You have consumed allowed toys and books" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
                                            Rent
                                        </button>
                                    </ng-template>
                                </ng-template>
                                <ng-template [ngIf]="!auth_tokn">
                                    <button routerLink="/login" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
                                        Rent
                                    </button>
                                </ng-template>
                                <button (click)="goToAmazon(row.product_amazon_link)" class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail">
                                    Buy Now
                                </button>
                            </div>
                        </div>
                    </div>

                    <!--  -->
                    <div class="flex-w flex-m p-l-100 p-t-40 respon7">
                        <div class="flex-m bor9 p-r-10 m-r-11">
                            <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 js-addwish-detail tooltip100" data-tooltip="Add to Wishlist">
                                <i class="zmdi zmdi-favorite"></i>
                            </a>
                        </div>

                        <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Facebook">
                            <i class="fa fa-facebook"></i>
                        </a>

                        <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Twitter">
                            <i class="fa fa-twitter"></i>
                        </a>

                        <a href="#" class="fs-14 cl3 hov-cl1 trans-04 lh-10 p-lr-5 p-tb-2 m-r-8 tooltip100" data-tooltip="Google Plus">
                            <i class="fa fa-google-plus"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="bor10 m-t-50 p-t-43 p-b-40">
            <!-- Tab01 -->
            <div class="tab01">
                <!-- Nav tabs -->
                <mat-tab-group class="demo-tab-group nav nav-tabs">
                    <mat-tab label="Description" class="nav-item p-b-10">
                        <div class="tab-pane show active">
                            <div class="how-pos2 p-lr-15-md">
                                <p class="stext-102 cl6 mt-md-3">
                                    {{ row.product_description }}
                                </p>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Review" class="nav-item p-b-10" *ngIf="auth_tokn">
                        <div class="row">
                            <div class="col-sm-10 col-md-8 col-lg-6 m-lr-auto">
                                <div class="p-b-30 m-lr-15-sm">
                                    <!-- Review -->
                                    <div class="flex-w flex-t p-b-68">
                                        <div class="size-207" *ngFor="let review_row of review_data; let review_I = index">
                                            <div class="flex-w flex-sb-m p-b-17">
                                                <span class="mtext-107 cl2 p-r-20">
                                                    {{ review_row.reviewer_name }}
                                                </span>

                                                <span class="fs-18 cl11">
                                                    <ng-template [ngIf]="review_row.rating == 1">
                                                        <i class="zmdi zmdi-star"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 0.5">
                                                        <i class="zmdi zmdi-star-half"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 2">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 1.5">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star-half"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 3">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 2.5">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star-half"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 4">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 3.5">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star-half"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 5">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                    </ng-template>
                                                    <ng-template [ngIf]="review_row.rating == 4.5">
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star"></i>
                                                        <i class="zmdi zmdi-star-half"></i>
                                                    </ng-template>
                                                </span>
                                            </div>

                                            <p class="stext-102 cl6">
                                                {{ review_row.review }}
                                            </p>
                                        </div>
                                    </div>

                                    <!-- Add review -->
                                    <form class="w-full" [formGroup]="add_review" (ngSubmit)="addReview(add_review)" #formDir="ngForm">
                                        <h5 class="mtext-108 cl2 p-b-7">
                                            Add a review
                                        </h5>

                                        <div class="flex-w flex-m p-t-50 p-b-23">
                                            <span class="stext-102 cl3 m-r-16">
                                                Your Rating
                                            </span>

                                            <fieldset class="rating">
                                                <input type="radio" id="star5" name="rating" formControlName="rating" value="50" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
                                                <input type="radio" id="star4half" name="rating" formControlName="rating" value="45" /><label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
                                                <input type="radio" id="star4" name="rating" formControlName="rating" value="40" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>
                                                <input type="radio" id="star3half" name="rating" formControlName="rating" value="35" /><label class="half" for="star3half" title="Meh - 3.5 stars"></label>
                                                <input type="radio" id="star3" name="rating" formControlName="rating" value="30" /><label class = "full" for="star3" title="Meh - 3 stars"></label>
                                                <input type="radio" id="star2half" name="rating" formControlName="rating" value="25" /><label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
                                                <input type="radio" id="star2" name="rating" formControlName="rating" value="20" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>
                                                <input type="radio" id="star1half" name="rating" formControlName="rating" value="15" /><label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                                                <input type="radio" id="star1" name="rating" formControlName="rating" value="10" /><label class = "full" for="star1" title="Sucks big time - 1 star"></label>
                                                <input type="radio" id="starhalf" name="rating" formControlName="rating" value="5" /><label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label>
                                            </fieldset>
                                        </div>

                                        <div class="row p-b-25">
                                            <div class="col-12 p-b-5">
                                                <label class="stext-102 cl3" for="review">Your review</label>
                                                <textarea class="size-110 bor8 stext-102 cl2 p-lr-20 p-tb-10" id="review" formControlName="review" name="review"></textarea>
                                            </div>
                                        </div>

                                        <ng-template [ngIf]="add_review.valid">
                                            <button class="flex-c-m stext-101 cl0 size-112 bg7 bor11 hov-btn3 p-lr-15 trans-04 m-b-10">
                                                Submit
                                            </button>
                                        </ng-template>
                                        <ng-template [ngIf]="!add_review.valid">
                                            <span style="width: 10px;" class="flex-c-m stext-101 cl0 size-112 bg7 bor11 hov-btn3 p-lr-15 trans-04 m-b-10">
                                                Submit
                                            </span>
                                        </ng-template>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                </mat-tab-group>
                
            </div>
        </div>
    </div>

    <!-- <div class="bg6 flex-c-m flex-w size-302 m-t-73 p-tb-15">
        <span class="stext-107 cl6 p-lr-25">
            SKU: JAK-01
        </span>

        <span class="stext-107 cl6 p-lr-25">
            Categories: Jacket, Men
        </span>
    </div> -->
</section>
</ng-template>
<ng-template [ngIf]="show_spinner">
    <mat-spinner></mat-spinner>
</ng-template>

<app-footer></app-footer>